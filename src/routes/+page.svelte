<script>
	import { fly, fade } from 'svelte/transition';
	import SignIn from '../components/SignIn.svelte';
	import SignUp from '../components/SignUp.svelte';

	// 0 => none, 1 => left side , 2 => right side
	let over = 0;

	let showSignIn = false;
	let showSignUp = false;

	function toggleSignUp() {
		if (showSignUp) return;
		showSignUp = true;
		showSignIn = false;
	}
	function toggleSignIn() {
		if (showSignIn) return;
		showSignIn = true;
		showSignUp = false;
	}
</script>

<div class="login-signup min-h-full flex">
	<!-- svelte-ignore a11y-mouse-events-have-key-events -->
	<!-- svelte-ignore a11y-click-events-have-key-events -->
	<div
		on:mouseenter={() => (over = 1)}
		on:mouseleave={() => (over = 0)}
		on:click={() => toggleSignIn()}
		class="signin min-h-full {over === 1 ? 'w-[55%]' : over === 2 ? 'w-[45%]' : 'w-1/2'} {showSignIn
			? 'w-3/4 lg:w-[90%]'
			: showSignUp
			? 'w-1/4 lg:w-[10%]'
			: ''} transition-all duration-500 ease-out bg-[#1b1d1e] relative {!showSignIn
			? 'hover:after:w-20 hover:after:content-[""] hover:after:absolute'
			: ''}  after:z-10 hover:after:right-0 hover:after:top-0  after:transition-transform after:rounded-tr-[300%] after:rounded-br-[300%] after:ease-out  after:duration-500 hover:after:translate-x-[100%] after:bg-[#1b1d1e] after:translate-x-0 after:h-full"
	>
		{#if showSignIn}
			<div
				in:fade={{ delay: 500 }}
				class="signin-form-wrapper flex justify-center pt-24 lg:pt-16 h-3/5 lg:h-3/4"
			>
				<SignIn />
			</div>
		{:else}
			<!-- icons -->
			<div
				transition:fade
				class="icon relative z-20  h-full w-full cursor-pointer flex  gap-3 justify-center items-center flex-col"
			>
				<div class="p-3 border-4 border-[#2b2f31] rounded-full w-max relative">
					<svg
						class="h-12 aspect-square fill-[#2b2f31]"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 50 50"
					>
						<path
							d="M25 3C19.464844 3 15 7.464844 15 13L15 19C15 22.238281 16.585938 25.144531 19 26.96875L19 31.5C19 31.605469 18.980469 31.695313 18.71875 31.9375C18.457031 32.179688 17.992188 32.503906 17.375 32.8125C16.144531 33.429688 14.367188 34.0625 12.5625 34.9375C10.757813 35.8125 8.886719 36.925781 7.4375 38.53125C5.988281 40.136719 5 42.289063 5 45L5 46L45 46L45 45C45 42.265625 44.011719 40.105469 42.5625 38.5C41.113281 36.894531 39.242188 35.800781 37.4375 34.9375C35.632813 34.074219 33.851563 33.421875 32.625 32.8125C32.011719 32.507813 31.539063 32.210938 31.28125 31.96875C31.023438 31.726563 31 31.625 31 31.5L31 26.96875C33.414063 25.144531 35 22.238281 35 19L35 13C35 7.464844 30.535156 3 25 3 Z M 25 5C29.464844 5 33 8.535156 33 13L33 19C33 21.757813 31.558594 24.242188 29.4375 25.65625L29 25.96875L29 31.5C29 32.273438 29.398438 32.957031 29.90625 33.4375C30.414063 33.917969 31.050781 34.277344 31.75 34.625C33.148438 35.320313 34.867188 35.9375 36.5625 36.75C38.257813 37.5625 39.886719 38.542969 41.0625 39.84375C42.039063 40.921875 42.605469 42.304688 42.8125 44L7.1875 44C7.394531 42.324219 7.964844 40.957031 8.9375 39.875C10.113281 38.570313 11.742188 37.574219 13.4375 36.75C15.132813 35.925781 16.855469 35.289063 18.25 34.59375C18.945313 34.246094 19.589844 33.878906 20.09375 33.40625C20.597656 32.933594 21 32.269531 21 31.5L21 25.96875L20.5625 25.65625C18.441406 24.242188 17 21.757813 17 19L17 13C17 8.535156 20.535156 5 25 5Z"
						/>
					</svg>
				</div>
				<p class="uppercase font-semibold text-white">sign in</p>
			</div>
		{/if}
	</div>
	<!-- svelte-ignore a11y-click-events-have-key-events -->
	<div
		on:mouseenter={() => (over = 2)}
		on:mouseleave={() => (over = 0)}
		on:click={() => toggleSignUp()}
		class="signup min-h-full {over === 2 ? 'w-[55%]' : over === 1 ? 'w-[45%]' : 'w-1/2'} {showSignUp
			? 'w-3/4 lg:w-[90%]'
			: showSignIn
			? 'w-1/4 lg:w-[10%]'
			: ''} transition-all duration-500 ease-out bg-[#242728] relative  {!showSignUp
			? 'hover:before:absolute  hover:before:w-20 hover:before:content-[""]'
			: ''}  before:z-10 hover:before:left-0 hover:before:top-0 before:transition-transform before:rounded-tl-[300%] before:rounded-bl-[300%] before:ease-out  before:duration-500 hover:before:-translate-x-[100%] before:translate-x-0 before:bg-[#242728] before:h-full"
	>
		{#if showSignUp}
			<div
				in:fade={{ delay: 500 }}
				class="signup-form-wrapper flex justify-center pt-24 lg:pt-16 h-3/5 lg:h-3/4"
			>
				<SignUp />
			</div>
		{:else}
			<!-- icons -->
			<div
				transition:fade
				class="icon relative z-20  h-full w-full cursor-pointer flex gap-3  justify-center items-center flex-col"
			>
				<div class="p-3 border-4 border-white rounded-full w-max relative">
					<svg
						class="h-12 aspect-square"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 50 50"
						fill="#FFFFFF"
					>
						<path
							d="M19.875 0.40625C15.203125 0.492188 12.21875 2.378906 10.9375 5.3125C9.714844 8.105469 9.988281 11.632813 10.875 15.28125C10.398438 15.839844 10.019531 16.589844 10.15625 17.71875C10.304688 18.949219 10.644531 19.824219 11.125 20.4375C11.390625 20.773438 11.738281 20.804688 12.0625 20.96875C12.238281 22.015625 12.53125 23.0625 12.96875 23.9375C13.21875 24.441406 13.503906 24.90625 13.78125 25.28125C13.90625 25.449219 14.085938 25.546875 14.21875 25.6875C14.226563 26.921875 14.230469 27.949219 14.125 29.25C13.800781 30.035156 13.042969 30.667969 11.8125 31.28125C10.542969 31.914063 8.890625 32.5 7.21875 33.21875C5.546875 33.9375 3.828125 34.8125 2.46875 36.1875C1.109375 37.5625 0.148438 39.449219 0 41.9375L-0.0625 43L25 43L24.34375 41L2.25 41C2.53125 39.585938 3.058594 38.449219 3.90625 37.59375C4.972656 36.515625 6.425781 35.707031 8 35.03125C9.574219 34.355469 11.230469 33.820313 12.6875 33.09375C14.144531 32.367188 15.492188 31.410156 16.0625 29.875L16.125 29.625C16.277344 27.949219 16.21875 26.761719 16.21875 25.3125L16.21875 24.71875L15.6875 24.4375C15.777344 24.484375 15.5625 24.347656 15.375 24.09375C15.1875 23.839844 14.957031 23.476563 14.75 23.0625C14.335938 22.234375 13.996094 21.167969 13.90625 20.3125L13.8125 19.5L12.96875 19.4375C12.960938 19.4375 12.867188 19.449219 12.6875 19.21875C12.507813 18.988281 12.273438 18.480469 12.15625 17.5C12.058594 16.667969 12.480469 16.378906 12.4375 16.40625L13.09375 16L12.90625 15.28125C11.964844 11.65625 11.800781 8.363281 12.78125 6.125C13.757813 3.894531 15.75 2.492188 19.90625 2.40625C19.917969 2.40625 19.925781 2.40625 19.9375 2.40625C21.949219 2.414063 23.253906 3.003906 23.625 3.65625L23.875 4.0625L24.34375 4.125C25.734375 4.320313 26.53125 4.878906 27.09375 5.65625C27.65625 6.433594 27.96875 7.519531 28.0625 8.71875C28.25 11.117188 27.558594 13.910156 27.125 15.21875L26.875 16L27.5625 16.40625C27.519531 16.378906 27.945313 16.667969 27.84375 17.5C27.726563 18.480469 27.492188 18.988281 27.3125 19.21875C27.132813 19.449219 27.039063 19.4375 27.03125 19.4375L26.1875 19.5L26.09375 20.3125C26 21.175781 25.652344 22.234375 25.25 23.0625C25.046875 23.476563 24.839844 23.839844 24.65625 24.09375C24.472656 24.347656 24.28125 24.488281 24.375 24.4375L23.84375 24.71875L23.84375 25.3125C23.84375 26.757813 23.785156 27.949219 23.9375 29.625L23.9375 29.75L24 29.875C24.320313 30.738281 24.882813 31.605469 25.8125 32.15625L26.84375 30.4375C26.421875 30.1875 26.144531 29.757813 25.9375 29.25C25.832031 27.949219 25.835938 26.921875 25.84375 25.6875C25.972656 25.546875 26.160156 25.449219 26.28125 25.28125C26.554688 24.902344 26.816406 24.4375 27.0625 23.9375C27.488281 23.0625 27.796875 22.011719 27.96875 20.96875C28.28125 20.804688 28.617188 20.765625 28.875 20.4375C29.355469 19.824219 29.695313 18.949219 29.84375 17.71875C29.976563 16.625 29.609375 15.902344 29.15625 15.34375C29.644531 13.757813 30.269531 11.195313 30.0625 8.5625C29.949219 7.125 29.582031 5.691406 28.71875 4.5C27.929688 3.40625 26.648438 2.609375 25.03125 2.28125C23.980469 0.917969 22.089844 0.40625 19.90625 0.40625 Z M 38 26C31.382813 26 26 31.382813 26 38C26 44.617188 31.382813 50 38 50C44.617188 50 50 44.617188 50 38C50 31.382813 44.617188 26 38 26 Z M 38 28C43.535156 28 48 32.464844 48 38C48 43.535156 43.535156 48 38 48C32.464844 48 28 43.535156 28 38C28 32.464844 32.464844 28 38 28 Z M 37 32L37 37L32 37L32 39L37 39L37 44L39 44L39 39L44 39L44 37L39 37L39 32Z"
							fill="#FFFFFF"
						/>
					</svg>
				</div>
				<p class="uppercase font-semibold text-white">sign up</p>
			</div>
		{/if}
	</div>
</div>

<style>
</style>
